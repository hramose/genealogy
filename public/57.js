webpackJsonp([57],{"/Nkn":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CardControl"}},"02GH":function(e,t,s){var n=s("VU/8")(s("bIv0"),s("yNQy"),!1,function(e){s("3kdP")},"data-v-6dcb8e49",null);e.exports=n.exports},"2ou3":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("card",{ref:"card",attrs:{title:e.title,collapsed:"",scrollable:"",nested:e.nested,controls:1},on:{shrink:function(t){e.$emit("shrink",t)},extend:function(t){e.$emit("extend",t)}}},[s("card-control",{attrs:{slot:"control-1"},slot:"control-1"},[s("div",{staticClass:"field"},[s("input",{staticClass:"is-checkradio is-info",attrs:{type:"checkbox",id:"checkbox-"+e._uid,name:"checkbox-"+e._uid},on:{change:e.updateBelow}}),e._v(" "),s("label",{attrs:{for:"checkbox-"+e._uid}})])]),e._v(" "),s("div",{staticClass:"has-padding-medium"},[e._l(e.sortedGroups,function(t){return s("checkbox-manager",{key:t,ref:"children",refInFor:!0,attrs:{nested:"",title:t,"group-data":e.groupData[t],"role-permissions":e.rolePermissions},on:{shrink:function(t){e.$refs.card.shrink(t)},extend:function(t){e.$refs.card.extend(t)},update:e.update}})}),e._v(" "),e.isRoot?s("manager-content",{ref:"content",attrs:{"group-data":e.groupData,"role-permissions":e.rolePermissions},on:{checked:e.setChecked,indeterminate:e.setIndeterminate,unchecked:e.setUnchecked}}):e._e()],2)],1)},staticRenderFns:[]}},"3kdP":function(e,t,s){var n=s("rJ3K");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);s("rjj0")("d9fec5f0",n,!0,{})},"4Hs9":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("02GH"),a=s.n(n),i=s("zhSu"),r=s.n(i),o=s("Rxb0"),c=s.n(o);t.default={name:"CheckboxManager",components:{Card:a.a,CardControl:r.a,ManagerContent:c.a},props:{title:{type:String,required:!0},groupData:{type:[Array,Object],required:!0},rolePermissions:{type:Array,required:!0},nested:{type:Boolean,default:!1}},computed:{isRoot:function(){return Array.isArray(this.groupData)},sortedGroups:function(){return this.isRoot?[]:Object.keys(this.groupData).sort()},checkbox:function(){return this.$el.querySelector("input[type=checkbox]")}},methods:{setChecked:function(){this.checkbox.indeterminate=!1,this.checkbox.checked=!0,this.$emit("update")},setIndeterminate:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!0,this.$emit("update")},setUnchecked:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!1,this.$emit("update")},update:function(){var e=this.$refs.children.filter(function(e){return e.checkbox.checked}).length;if(e!==this.$refs.children.length){var t=this.$refs.children.filter(function(e){return e.checkbox.indeterminate}).length;e||t?this.setIndeterminate():this.setUnchecked()}else this.setChecked()},updateBelow:function(){return this.isRoot?this.updateContent():this.updateChildren()},updateContent:function(){return this.checkbox.checked?this.$refs.content.setAllChecked():this.$refs.content.setAllUnchecked()},updateChildren:function(){var e=this;this.$refs.children.forEach(function(t){t.checkbox.checked=e.checkbox.checked,t.updateBelow()})}}}},ChWA:function(e,t,s){var n=s("VU/8")(s("4Hs9"),s("2ou3"),!1,function(e){s("dBRK")},"data-v-551b6bec",null);e.exports=n.exports},JDup:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-multiline has-padding-medium"},e._l(e.groupData,function(t,n){return s("div",{key:n,staticClass:"column is-half"},[s("div",{staticClass:"field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedIds,expression:"checkedIds"}],staticClass:"is-checkradio",attrs:{type:"checkbox",id:"checkbox-"+e._uid+"-"+t.id,name:"checkbox-"+e._uid+"-"+t.id},domProps:{value:t.id,checked:Array.isArray(e.checkedIds)?e._i(e.checkedIds,t.id)>-1:e.checkedIds},on:{change:function(s){var n=e.checkedIds,a=s.target,i=!!a.checked;if(Array.isArray(n)){var r=t.id,o=e._i(n,r);a.checked?o<0&&(e.checkedIds=n.concat([r])):o>-1&&(e.checkedIds=n.slice(0,o).concat(n.slice(o+1)))}else e.checkedIds=i}}}),e._v(" "),s("label",{attrs:{for:"checkbox-"+e._uid+"-"+t.id}},[s("span",{class:e.getClass(t)},[e._v("\n                        "+e._s(t.description||t.name)+"\n                    ")]),e._v(" "),t.default?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.__("Default"),expression:"__('Default')"}],staticClass:"icon is-small has-text-info has-margin-left-medium"},[s("fa",{attrs:{icon:"exclamation-triangle"}})],1):e._e()])])])}))},staticRenderFns:[]}},JPXb:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,".field[data-v-551b6bec]{width:15px}",""])},Rxb0:function(e,t,s){var n=s("VU/8")(s("SYJ6"),s("JDup"),!1,null,null,null);e.exports=n.exports},SYJ6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("VN6J");throw new Error('Cannot find module "@fortawesome/fontawesome"')},"YYJ+":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-three-quarters"},[e.data?s("div",{staticClass:"animated fadeIn"},[s("center",{staticClass:"has-padding-bottom-large"},[s("h5",{staticClass:"title is-5"},[e._v(e._s(e.data.role.display_name))])]),e._v(" "),e.data.menus.length?s("checkbox-manager",{attrs:{title:e.__("Menus"),"role-permissions":e.data.roleMenus,"group-data":e.data.menus}}):e._e(),e._v(" "),e.data.menus.length?s("checkbox-manager",{attrs:{title:e.__("Permissions"),"role-permissions":e.data.rolePermissions,"group-data":e.data.permissionTree}}):e._e(),e._v(" "),s("button",{staticClass:"button is-success has-margin-top-large is-pulled-right",attrs:{disabled:!e.canAccess("system.roles.setPermissions")},on:{click:e.update}},[e._v("\n                "+e._s(e.__("Update"))+"\n            ")]),e._v(" "),s("div",{staticClass:"is-clearfix"})],1):e._e()])])},staticRenderFns:[]}},bIv0:function(e,t,s){"use strict";throw Object.defineProperty(t,"__esModule",{value:!0}),new Error('Cannot find module "@fortawesome/fontawesome"')},cBjv:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("a",this._g({staticClass:"card-header-icon"},this.$listeners),[this._t("default")],2)},staticRenderFns:[]}},dBRK:function(e,t,s){var n=s("JPXb");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);s("rjj0")("279a256c",n,!0,{})},q3gz:function(e,t,s){var n=s("VU/8")(s("sQdx"),s("YYJ+"),!1,null,null,null);e.exports=n.exports},rJ3K:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,".card-header-title[data-v-6dcb8e49]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-content[data-v-6dcb8e49]{-webkit-transition:max-height .4s ease;transition:max-height .4s ease}.icon.angle[aria-hidden=true][data-v-6dcb8e49]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.icon.angle[data-v-6dcb8e49]{-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}",""])},sQdx:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("ChWA"),a=s.n(n);t.default={components:{CheckboxManager:a.a},data:function(){return{roleId:this.$route.params.role,data:null}},created:function(){this.get()},methods:{get:function(){var e=this;axios.get(route("system.roles.getPermissions",this.roleId)).then(function(t){var s=t.data;e.data=s}).catch(function(t){return e.handleError(t)})},update:function(){var e=this;axios.post(route("system.roles.setPermissions",this.roleId),this.postParams()).then(function(t){var s=t.data;e.$toastr.success(s.message)}).catch(function(t){return e.handleError(t)})},postParams:function(){return{roleMenus:this.data.roleMenus,rolePermissions:this.data.rolePermissions}}}}},yNQy:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[e.header?s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e.icon?s("span",{staticClass:"icon is-small has-margin-right-small"},[s("fa",{attrs:{icon:e.icon}})],1):e._e(),e._v(" "),!e.fixed&&e.title?s("span",{staticClass:"is-clickable",on:{click:function(t){e.toggle()}}},[e._v("\n                "+e._s(e.title)+"\n            ")]):e.title?s("span",[e._v(e._s(e.title))]):e._e()]),e._v(" "),e.search?s("div",{staticClass:"has-vertically-centered-content"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"input is-small",attrs:{type:"search"},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.$emit("query-update",e.query)}]}}),e._v(" "),s("span",{staticClass:"icon is-small is-left"},[s("fa",{attrs:{icon:"search"}})],1)])]):e._e(),e._v(" "),e._l(e.controls,function(t){return e._t("control-"+t)}),e._v(" "),null!==e.badge?s("card-control",[s("span",{staticClass:"tag is-link"},[e._v("\n                "+e._s(e.badge)+"\n            ")])]):e._e(),e._v(" "),e.refresh?s("card-control",{on:{click:function(t){e.$emit("refresh")}}},[s("span",{staticClass:"icon is-small"},[s("fa",{attrs:{icon:"sync"}})],1)]):e._e(),e._v(" "),e.fixed?e._e():s("card-control",{on:{click:function(t){e.toggle()}}},[s("span",{staticClass:"icon angle",attrs:{"aria-hidden":!e.expanded}},[s("fa",{attrs:{icon:"angle-down"}})],1)]),e._v(" "),e.removable?s("card-control",{on:{click:function(t){e.destroy()}}},[s("a",{staticClass:"delete is-small"})]):e._e()],2):e._e(),e._v(" "),s("div",{staticClass:"card-content is-paddingless",style:e.contentStyle},[e._t("default")],2),e._v(" "),e._t("footer"),e._v(" "),e.overlay?s("overlay",{attrs:{size:"medium"}}):e._e()],2)},staticRenderFns:[]}},zhSu:function(e,t,s){var n=s("VU/8")(s("/Nkn"),s("cBjv"),!1,null,null,null);e.exports=n.exports}});
//# sourceMappingURL=57.js.map